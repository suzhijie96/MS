<div class="login-model">
<h1>监控系统</h1>
<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)" class="login-form">
<nz-form-item>
    <nz-form-label nzRequired>Username</nz-form-label>
    <nz-form-control>
    <input nz-input formControlName="userName" placeholder="please input your userName" />
    </nz-form-control>
</nz-form-item>
<nz-form-item>
    <nz-form-label  nzRequired>Password</nz-form-label>
    <nz-form-control nzHasFeedback nzErrorTip="Please input your password!">
    <input nz-input type="password" formControlName="password" (ngModelChange)="validateConfirmPassword()" />
    </nz-form-control>
</nz-form-item>
<nz-form-item>
    <nz-form-label  nzRequired>Confirm Password</nz-form-label>
    <nz-form-control nzHasFeedback [nzErrorTip]="passwordErrorTpl">
    <input nz-input type="password" formControlName="confirm" placeholder="confirm your password" />
    <ng-template #passwordErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">
        Please confirm your password!
        </ng-container>
        <ng-container *ngIf="control.hasError('confirm')">
        Password is inconsistent!
        </ng-container>
    </ng-template>
    </nz-form-control>
</nz-form-item>
<nz-form-item>
    <nz-form-control>
    <button nz-button nzType="primary" [disabled]="!validateForm.valid" (click)="showModal()">Submit</button>
    <nz-modal
      [(nzVisible)]="isVisible"
      [nzTitle]="modalTitle"
      [nzContent]="modalContent"
      [nzFooter]="modalFooter"
    >
      <ng-template #modalTitle>
        Success!!
      </ng-template>

      <ng-template #modalContent>
        <p>your userName: {{ validateForm.controls.userName.value }}</p>
        <p> Your Password: {{ validateForm.controls.password.value }}</p>
 
      </ng-template>

      <ng-template #modalFooter>
        <button nz-button nzType="primary" [routerLink]="['/login']">Goto Login</button>
      </ng-template>
    </nz-modal>
    <button nz-button (click)="resetForm($event)">Reset</button>
    </nz-form-control>
</nz-form-item>
</form>
</div>  

