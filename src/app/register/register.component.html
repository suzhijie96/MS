<div class="login-model">
  <h1>监控系统</h1>
  <form
    *ngIf="registerInfo"
    nz-form
    [formGroup]="registerForm"
    (ngSubmit)="submitForm()"
    class="login-form"
  >
    <h2>欢迎注册</h2>
    <nz-form-item>
      <nz-form-label nzSm="6" nzXs="24" nzRequired nzFor="username"
        >username</nz-form-label
      >
      <nz-form-control
        nzSm="14"
        nzXs="24"
        nzErrorTip="The input is not valid username"
      >
        <input nz-input formControlName="username" id="username" />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSm="6" nzXs="24" nzFor="password" nzRequired
        >Password</nz-form-label
      >
      <nz-form-control
        nzSm="14"
        nzXs="24"
        nzErrorTip="Please input your password!"
      >
        <input
          nz-input
          type="password"
          id="password"
          formControlName="password"
          (ngModelChange)="updateConfirmValidator()"
        />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSm="6" nzXs="24" nzFor="checkPassword" nzRequired
        >Confirm Password</nz-form-label
      >
      <nz-form-control nzSm="14" nzXs="24" [nzErrorTip]="errorTpl">
        <input
          nz-input
          type="password"
          formControlName="checkPassword"
          id="checkPassword"
        />
        <ng-template #errorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            Please confirm your password!
          </ng-container>
          <ng-container *ngIf="control.hasError('confirm')">
            Two passwords that you enter is inconsistent!
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="verify" nzRequired
        >Verify</nz-form-label
      >
      <nz-form-control
        [nzSm]="14"
        [nzXs]="24"
        nzErrorTip="Please input verify!"
      >
        <nz-input-group class="verify" nzPrefixIcon="verified">
          <input
            type="text"
            nz-input
            formControlName="verify"
            placeholder="verify"
          />
        </nz-input-group>
        <div
          class="verify-svg"
          (click)="getVerifyCode()"
          [innerHTML]="verifyCode"
        ></div>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-row class="register-area">
      <nz-form-control [nzSpan]="14" [nzOffset]="6">
        <button nz-button nzType="primary">Register</button>
      </nz-form-control>
    </nz-form-item>
  </form>
  <nz-result
  class="login-form"
  *ngIf="successRegister"
  nzStatus="success"
  nzTitle="恭喜您已注册成功!!"
  nzSubTitle="请使用注册好的用户名和密码在登录页面进行登录。"
>
  <div nz-result-extra>
    <button nz-button nzType="primary" [routerLink]="['/login']">返回登陆</button>
  </div>
</nz-result>
</div>
